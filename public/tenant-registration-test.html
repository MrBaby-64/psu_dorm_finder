<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tenant Registration Test - PSU Dorm Finder</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-8">
        <h1 class="text-3xl font-bold mb-8 text-center text-blue-600">🧪 Tenant Registration Test</h1>

        <div class="max-w-md mx-auto bg-white rounded-lg shadow-lg p-6 mb-8">
            <h2 class="text-xl font-bold mb-4">Test Tenant Account Creation</h2>

            <div class="bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4">
                <h3 class="font-semibold">✅ Database Tests: WORKING</h3>
                <p class="text-sm">Direct database storage tested and confirmed working</p>
            </div>

            <div class="bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded mb-4">
                <h3 class="font-semibold">🔧 Issue Identified:</h3>
                <p class="text-sm">Form validation failing due to <strong>duplicate phone numbers and emails</strong></p>
                <p class="text-sm mt-2">Solution: Use the unique credentials below ⬇️</p>
            </div>

            <a href="/register" class="block w-full bg-blue-600 text-white text-center py-3 rounded-lg hover:bg-blue-700 mb-4">
                🎯 Go to Registration Form
            </a>

            <div class="bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded">
                <h3 class="font-semibold">📝 Use These GUARANTEED UNIQUE Credentials:</h3>
                <div class="text-sm mt-2 space-y-1">
                    <p><strong>Email:</strong> <code>tenant_user_1758618181_112@test.com</code></p>
                    <p><strong>Phone:</strong> <code>09179234657</code></p>
                    <p><strong>Name:</strong> Test Tenant User</p>
                    <p><strong>Password:</strong> password123</p>
                    <p><strong>Address:</strong> 123 Test Street, Barangay Test</p>
                    <p><strong>City:</strong> Bacolor</p>
                </div>
                <div class="mt-2 p-2 bg-red-100 border border-red-300 rounded text-red-700 text-xs">
                    <strong>⚠️ Problem Found:</strong> You were trying to use phone number <code>09274516414</code> which belongs to an existing landlord account (User ID 15). That's why registration kept failing!
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto bg-white rounded-lg shadow-lg p-6">
            <h3 class="text-xl font-bold mb-4">🔍 Registration Process</h3>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                    <h4 class="font-semibold mb-2">✅ What's Working:</h4>
                    <ul class="text-sm space-y-1 text-green-600">
                        <li>• Database storage and connections</li>
                        <li>• Form validation logic</li>
                        <li>• Address field visibility for tenants</li>
                        <li>• Password confirmation matching</li>
                        <li>• Role-specific field requirements</li>
                    </ul>
                </div>

                <div>
                    <h4 class="font-semibold mb-2">⚠️ Common Issues:</h4>
                    <ul class="text-sm space-y-1 text-red-600">
                        <li>• Using duplicate email addresses</li>
                        <li>• Reusing phone numbers</li>
                        <li>• Empty address or city fields</li>
                        <li>• Password confirmation mismatch</li>
                    </ul>
                </div>
            </div>

            <div class="mt-6 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded">
                <h4 class="font-semibold">🎯 Step-by-Step Test:</h4>
                <ol class="text-sm list-decimal list-inside space-y-1 mt-2">
                    <li>Click "Go to Registration Form" above</li>
                    <li>Select "I am looking for a place to stay" (tenant option)</li>
                    <li>Fill form with the unique credentials shown above</li>
                    <li>Make sure address and city fields appear and are filled</li>
                    <li>Submit form - should create account successfully</li>
                </ol>
            </div>

            <div class="mt-4 bg-blue-100 border border-blue-400 text-blue-700 px-4 py-3 rounded text-sm">
                <h4 class="font-semibold">📊 Recent Log Analysis:</h4>
                <p>Last registration attempt showed:</p>
                <ul class="list-disc list-inside mt-1 space-y-1">
                    <li>✅ Address data: "XMX3+877 Sand Dunes" (received correctly)</li>
                    <li>✅ City data: "Bacolor" (received correctly)</li>
                    <li>❌ Phone validation: "09274516414" (already registered)</li>
                    <li>💡 Solution: Use unique phone number from above</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>